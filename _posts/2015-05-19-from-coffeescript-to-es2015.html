---
layout:     post
title:      "From Coffeescript to ES2015"
date:       2015-05-19 12:00:00
author:     "Kevin Soltysiak"
header-img: "img/post-bg-03.jpg"
---

<p>
  Not unlike many Rails developers, these past few years I have done most of (if not all) my javascript development in CoffeeScript. When I started working with <a href="http://www.ksol.fr/projects/deliver.ee">deliver.ee</a> back in last September, the team had already settled on using pure javascript, and it was a source of frustration at the beginnings: I was so used to CoffeeScript that the syntax of vanilla javascript kept getting in my way.
</p>

<h3 id="lintalltheway">Lint all the way</h3>

<p>
  While the concepts of both languages are mostly the same (as could be expected), javascript has a more verbose syntax, particularly when it comes to brackets, commas and semicolons. That's where all the pain was: not forgetting them everywhere.
</p>

<p>
  It comes back with practice, of course, but there is one thing you can do to ease the transition: use a linter! Most editors/IDEs have a way to interface with one so you don't even have to leave your editor. In my case, Sublime Text 3 + SublimeLinter + SublimeLinter-JsHint (+ ES Next for syntax coloring) was all I needed: I knew right away when and where I forgot something. No more checking the terminal output to see what was missing!
</p>

<h3 id="es2015forcoffeescripters">ES2015 for CoffeeScripters</h3>

<p>
  If you forget about the commas, semi colons, brackets and indentations, most of CoffeeScript ideas made their way into ES2015. Here's a few:
</p>

<h4 id="fatarrows">Fat arrows</h4>

<p>
  ES2015 has the same fat arrow as CoffeeScript, with the same semantics: it does <strong>not</strong> change <code>this</code> like regular functions can sometimes do.
</p>

<script src="https://gist.github.com/ksol/43fd43b14c2e92397392.js"></script><h4 id="betterobjectliterals">Better object literals</h4>

<p>
  There is a shorthand syntax for objects where the name of the key is the same as the name of the variable in CoffeeScript. ES2015 also does that, and goes a bit further:
</p>

<script src="https://gist.github.com/ksol/5824beca276bb42299ae.js"></script><h4 id="stringtemplates">String templates</h4>

<p>
  This is how ES2015 calls interpolations in strings, and how it finally allows multilines strings:
</p>

<script src="https://gist.github.com/ksol/a61334825767228ed34c.js"></script>

<p>
  There is also tagged template strings in ES2015, but I will not cover them in this article. If you're interested, you can read about them here: <a href="http://updates.html5rocks.com/2015/01/ES6-Template-Strings">http://updates.html5rocks.com/2015/01/ES6-Template-Strings</a>
</p>

<h4 id="classes">Classes</h4>

<p>
  Both languages allows you to use an OO-friendly way of declaring classes, and in both cases it's nothing but sugar for the prototype-based inheritance, assuring backwards compatibility.
</p>

<script src="https://gist.github.com/ksol/d22a274e1630a434070b.js"></script><h4 id="destructuring">De-structuring</h4>

<p>
  Both languages allow you to use pattern matching for variables assignments and arguments passing in functions declarations or calls in pretty similar ways. Be careful about the splat operator though: it comes BEFORE in ES2015 and AFTER in CS.
</p>

<script src="https://gist.github.com/ksol/61182035e15503ff1ba4.js"></script><h3 id="whatelse">What else ?</h3>

<p>
  Not every idea in CoffeeScript made its way into ES2015, sadly: I miss the comprehensions and the ability to use Ruby-style conditions, mostly.
</p>

<p>
  But ES2015 brings lots of stuff that is not in CoffeeScript, too: iterators, new APIs, <code>let</code> + <code>const</code>... In the case of iterators, it actually clashes with CoffeeScript: the semantics of <code>for ... of ...</code> are different in both languages.
</p>

<p>
  This kind of "conflict" should make you weight whether going with CoffeeScript is really the most viable option for your project: if it's long term, you should consider moving to ES2015 and with projects such as <a href="http://babeljs.io">Babel</a>, you can start today, even when browsers and runtime are not up to date.
</p>

<p>
  If you want to know more about ES2015, there is more and more resources out there for you. I gave <a href="http://blog.ksol.fr/talk-es6-overview/">a talk</a> about it not so long ago, and there's a <a href="http://babeljs.io/docs/learn-es6/">pretty good overview</a> on Babel's website. And if you're sticking with CoffeeScript, maybe there's some parts of the language you don't know about yet, so <a href="http://coffeescript.org/">check out the reference</a>.
</p>
